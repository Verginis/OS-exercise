# OS-exercise

Λεπτομέρειες Υλοποίησης
createResources
Αρχικά, στην συνάρτηση αυτή δημιουργείται η διαμοιραζόμενη μνημη, η οποία είναι ένα
struct που μεσα εχει μια μεταβλητή integer, που κάθε φορά θα παίρνει μέσα τον αριθμο της
γραμμής του αρχείου κειμένου και μία μεταβλητη string, που θα παίρνει την γραμμη του
κειμένου. Έπειτα, στην συνάρτηση φτιάχνονται οι σημαφόροι.
check_arguments
Στην συνάρτηση αυτή ελέγχεται αν υπάρχει το αρχειο που δόθηκε από την γραμμή εντολών
και αν τα ορίσματα είναι θετικά.
number_of_rows
Η συνάρτηση αυτή παίρνει σαν όρισμα το όνομα ενός αρχείου και μετράει το πλήθος των
γραμμών που βρίσκονται σε αυτο.
specific_line
Στην συνάρτηση αυτή δίνεται σαν όρισμα το όνομα ενός αρχείου,ενας ακεραιος αριθμος και
ενας ποιντερ και επιστρέφει στην τιμή του πόιντερ την γραμμή που αντιστοιχεί στον ακέραιο
αριθμό που δοθηκε.
child_code
Αρχικά, βρισκεται μια τυχαία τιμή και με την βοήθεια της διαμοιραζόμενης μνήμης και των
σημαφόρων το παιδί στέλνει στον γονέα τον αριθμό της γραμμής που θέλει να του
επιστραφεί. Έπειτα, περιμένε με την βοήθεια των σημαφόρων περιμένει από τον γονέα να
του δώσει την απάντηση την οποία και εκτυπώνει. Παράλληλα, μετριέται ο χρόνος που έκανε
να λάβει την απάντηση το παιδί και στο τέλος εκτυπώνεται μέσος όρος από όλες τις
δοσοληψίες.
2
Οδηγίες Χρήσης
Μεταγλώττιση
Για την Μεταγλώττιση: make
Εκτέλεση
Για την Εκτέλεση: Για να εκτελέσουμε το πρόγραμμα πρέπει πρώτα να δώσουμε τρία
ορίσματα.
● Αρχικά, το πρώτο όρισμα είναι το όνομα του αρχείου txt που θέλουμε να πάρει
το πρόγραμμα
● Δεύτερο όρισμα είναι το πλήθος των διεργασιών παιδιών
● Τέλος, πρέπει να δώσουμε τον αριθμό των δοσοληψιών στις οποίες
εμπλέκεται καθεμία εκ των διεργασιών-παιδιών.
Παράδειγμα: ./ask1 test.txt 20 1000